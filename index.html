<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>فَرْسَان — الفخامة الرقمية</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- animated background canvas -->
  <canvas id="bgCanvas" aria-hidden="true"></canvas>

  <header class="site-header">
    <div class="logo">
      <div class="mark">ف</div>
      <div class="title">
        <h1>فَرْسَان</h1>
        <p class="subtitle">بطاقات رقمية — توصيل فوري</p>
      </div>
    </div>

    <nav class="main-nav" aria-label="القائمة الرئيسية">
      <button data-target="home" class="nav-btn active">الرئيسية</button>
      <button data-target="products" class="nav-btn">البطاقات</button>
      <button data-target="reviews" class="nav-btn">آراء العملاء</button>
      <button data-target="cart" class="nav-btn">سلّتي <span id="miniCartCount" class="mini-badge" aria-hidden="true">0</span></button>
      <button data-target="contact" class="nav-btn">تواصل</button>
    </nav>
  </header>

  <main id="app">
    <!-- HOME -->
    <section id="home" class="page active">
      <div class="hero">
        <h2 class="hero-title">متجر بطاقات فَرْسَان — تجربة فخمة</h2>
        <p class="hero-sub">خلفية ملكية — بطاقات ألعاب، شحن وخدمات رقمية — توصيل فوري</p>
        <div class="hero-cta">
          <button class="btn-primary" data-target="products">تسوّق الآن</button>
          <button class="btn-ghost" data-target="reviews">اطّلع على آراء العملاء</button>
        </div>
      </div>

      <div class="features">
        <div class="feature">
          <svg class="feat-ico" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2L15 8l6 .5-4.6 3.5L18 20l-6-3.6L6 20l1.6-7.9L3 8.5 9 8z"/></svg>
          <h4>تسليم فوري</h4>
          <p>رموز مُفعّلة فور الدفع</p>
        </div>
        <div class="feature">
          <svg class="feat-ico" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a10 10 0 100 20 10 10 0 000-20zM11 6v6l5 3"/></svg>
          <h4>آمن وسهل</h4>
          <p>حماية ومصداقية في التعامل</p>
        </div>
        <div class="feature">
          <svg class="feat-ico" viewBox="0 0 24 24"><path fill="currentColor" d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"/></svg>
          <h4>متجاوب</h4>
          <p>مصمم للجوال والكمبيوتر</p>
        </div>
      </div>
    </section>

    <!-- PRODUCTS -->
    <section id="products" class="page">
      <h2 class="section-title">البطاقات الرقمية</h2>
      <div id="productGrid" class="product-grid" aria-live="polite"></div>
    </section>

    <!-- REVIEWS -->
    <section id="reviews" class="page">
      <h2 class="section-title">آراء العملاء</h2>
      <div class="review-area">
        <div id="reviewDisplay" class="review-display" aria-live="polite"></div>

        <form id="reviewForm" class="review-form" aria-label="إضافة تقييم">
          <textarea id="reviewText" rows="3" placeholder="اكتب رأيك..." required></textarea>
          <div class="row">
            <label for="reviewStars">التقييم:</label>
            <select id="reviewStars">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5" selected>5</option>
            </select>
            <button type="submit" class="btn-primary">أرسل رأيك</button>
          </div>
        </form>
      </div>
    </section>

    <!-- CART -->
    <section id="cart" class="page">
      <h2 class="section-title">سلّتي</h2>
      <div id="cartContainer" class="cart-container">
        <ul id="cartList" class="cart-list" aria-live="polite"></ul>
        <div class="cart-actions">
          <div class="total">الإجمالي: <span id="cartTotal">0 ر.س</span></div>
          <div class="cart-buttons">
            <button id="checkoutBtn" class="btn-primary">الانتقال للدفع</button>
            <button id="clearCartBtn" class="btn-ghost">تفريغ السلة</button>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="page">
      <h2 class="section-title">تواصل معنا</h2>
      <div class="contact-card">
        <p>واتساب: <a href="https://wa.me/966500000000" target="_blank" rel="noopener">+966 500 000 000</a></p>
        <p>البريد: support@fursan.com</p>
        <p>ساعات العمل: من 9 ص إلى 11 م</p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div>© <span id="year"></span> فَرْسَان — جميع الحقوق محفوظة</div>
    <div class="small-muted">تصميم مبتكر وفخم — تجربة AI</div>
  </footer>

  <script src="script.js" type="module"></script>
</body>
</html>/* style.css — الفخم المتحرك */
:root{
  --bg-1: #070407;
  --bg-2: #12021a;
  --purple: #7b2cbf;
  --gold: #ffd166;
  --muted: #cfcbd3;
  --card: #0f0f14;
  --glass: rgba(255,255,255,0.04);
  --radius: 14px;
  --shadow: 0 10px 30px rgba(4,4,6,0.6);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Tajawal", system-ui, "Noto Kufi Arabic", sans-serif;
  background: linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color: #f6f5f7;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* canvas background cover */
#bgCanvas{
  position:fixed;left:0;top:0;width:100%;height:100%;z-index:0;pointer-events:none;
  mix-blend-mode:overlay;opacity:0.5;
}

/* header */
.site-header{
  position:relative;z-index:20;
  display:flex;align-items:center;justify-content:space-between;padding:18px 24px;
  backdrop-filter: blur(6px);
}
.logo{display:flex;align-items:center;gap:14px}
.mark{
  width:56px;height:48px;border-radius:12px;background:linear-gradient(180deg,#1b0427,#2a032f);
  display:grid;place-items:center;font-weight:900;color:var(--gold);font-size:20px;border:1px solid rgba(255,255,255,0.04);
  box-shadow: 0 8px 30px rgba(123,44,191,0.12);
}
.title h1{margin:0;font-size:20px;color:var(--gold);letter-spacing:1px}
.title .subtitle{margin:0;color:var(--muted);font-size:12px}

/* nav */
.main-nav{display:flex;gap:8px}
.nav-btn{
  background:transparent;border:none;color:var(--muted);padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700;
  transition:all .18s ease;font-size:14px;
}
.nav-btn.active, .nav-btn:hover{ color:var(--gold); background: linear-gradient(90deg, rgba(123,44,191,0.08), rgba(255,209,102,0.06)); transform:translateY(-2px); box-shadow:var(--shadow);}

/* mini cart badge */
.mini-badge{
  display:inline-block;background:var(--gold);color:#000;padding:3px 8px;border-radius:12px;font-weight:900;margin-inline-start:8px;font-size:13px;
}

/* main content */
main{position:relative;z-index:10;padding:30px 18px 80px;max-width:1200px;margin:0 auto}

/* hero */
.hero{padding:36px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:var(--shadow)}
.hero-title{font-size:28px;color:var(--purple);margin:0 0 8px}
.hero-sub{color:var(--muted);margin:0 0 16px}
.hero-cta{display:flex;gap:12px;justify-content:center;margin-top:12px}
.btn-primary{
  background:linear-gradient(90deg,var(--purple),var(--gold));
  color:#070607;padding:12px 18px;border-radius:12px;border:none;font-weight:900;cursor:pointer;box-shadow:0 8px 30px rgba(123,44,191,0.12);
}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:12px 18px;border-radius:12px;cursor:pointer}

/* features */
.features{display:flex;gap:12px;justify-content:center;margin-top:22px}
.feature{background:var(--card);padding:14px;border-radius:12px;min-width:180px;box-shadow:0 8px 22px rgba(0,0,0,0.5);text-align:center}
.feat-ico{width:36px;height:36px;color:var(--gold);margin-bottom:8px}

/* section title */
.section-title{font-size:22px;color:var(--gold);margin:8px 0 18px;text-align:center}

/* product grid - 3d card */
.product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}
.card{
  perspective:1200px;
}
.card > .card-inner{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:14px;padding:16px;min-height:220px;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.03);
  transform-style:preserve-3d;transition:transform .45s cubic-bezier(.2,.9,.3,1), box-shadow .25s;
  box-shadow:0 10px 30px rgba(0,0,0,0.5);
}
.card:hover > .card-inner{ transform: translateY(-6px) rotateX(6deg); box-shadow:0 26px 60px rgba(0,0,0,0.7); border-color:var(--gold)}
.card .art{
  height:120px;border-radius:10px;background:linear-gradient(135deg,var(--purple), #210042);display:grid;place-items:center;color:rgba(255,255,255,0.9);font-weight:900;margin-bottom:12px;
}
.card h3{margin:0;font-size:16px}
.card p{color:var(--muted);margin:6px 0 12px}
.card .meta{display:flex;align-items:center;justify-content:space-between;gap:8px}
.card .price{font-weight:900;color:var(--gold)}
.card .actions{display:flex;gap:8px;margin-top:12px}

/* reviews */
.review-area{display:flex;flex-direction:column;gap:18px;align-items:center}
.review-display{width:100%;max-width:720px;min-height:120px;display:flex;align-items:center;justify-content:center}
.review-box{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:var(--shadow)}
.review-form{width:100%;max-width:720px;margin-top:6px;display:flex;flex-direction:column;gap:8px}
.review-form textarea{width:100%;background:transparent;border:1px solid rgba(255,255,255,0.04);padding:10px;border-radius:8px;color:var(--muted)}
.review-form select{width:80px;padding:8px;border-radius:8px;background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04)}

/* cart */
.cart-container{max-width:820px;margin:0 auto;display:flex;gap:16px;flex-direction:column}
.cart-list{list-style:none;padding:0;margin:0}
.cart-list li{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));margin-bottom:10px;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);display:flex;justify-content:space-between;align-items:center}
.cart-actions{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:8px}
.total{font-weight:900;color:var(--gold)}

/* contact */
.contact-card{max-width:520px;margin:0 auto;background:var(--card);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}

/* footer */
.site-footer{position:relative;z-index:10;margin-top:40px;padding:24px;text-align:center;color:var(--muted)}

/* responsive */
@media (max-width:720px){
  .features{flex-direction:column}
  .hero-title{font-size:20px}
  .main-nav{display:none}
  .site-header{padding:12px}
  .logo .title h1{font-size:18px}
}// script.js (module not required)
(() => {
  // ---------- helper ----------
  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));
  const formatSAR = n => `${n} ر.س`;

  // ---------- simple SPA navigation (buttons in header) ----------
  document.querySelectorAll('.nav-btn').forEach(btn=>{
    btn.addEventListener('click',(e)=>{
      const tgt = btn.dataset.target;
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      const page = document.getElementById(tgt);
      if(page) page.classList.add('active');
      // active class
      document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      window.scrollTo({top:0,behavior:'smooth'});
    });
  });

  // mark pages (connect structure)
  // put id attributes on sections: home, products, reviews, cart, contact
  ['home','products','reviews','cart','contact'].forEach(id=>{
    const el = document.getElementById(id);
    if(el) el.classList.add('page');
  });

  // ---------- background particles (canvas) ----------
  const canvas = document.getElementById('bgCanvas');
  const ctx = canvas.getContext('2d');
  let W = canvas.width = innerWidth;
  let H = canvas.height = innerHeight;
  window.addEventListener('resize', ()=>{ W = canvas.width = innerWidth; H = canvas.height = innerHeight; initPts(); });

  let pts = [];
  function initPts(){
    pts = [];
    const count = Math.round((W*H)/60000); // scale with screen
    for(let i=0;i<count;i++){
      pts.push({
        x: Math.random()*W,
        y: Math.random()*H,
        r: 0.6 + Math.random()*1.6,
        vx: (Math.random()-0.5)*0.3,
        vy: (Math.random()-0.5)*0.3,
        hue: 260 + Math.random()*60
      });
    }
  }
  function drawBG(){
    ctx.clearRect(0,0,W,H);
    pts.forEach(p=>{
      p.x += p.vx; p.y += p.vy;
      if(p.x < -20) p.x = W+20;
      if(p.x > W+20) p.x = -20;
      if(p.y < -20) p.y = H+20;
      if(p.y > H+20) p.y = -20;
      ctx.beginPath();
      const g = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*8);
      g.addColorStop(0, `hsla(${p.hue},80%,70%,0.18)`);
      g.addColorStop(1, `hsla(${p.hue},60%,40%,0)`);
      ctx.fillStyle = g;
      ctx.arc(p.x,p.y,p.r*8,0,Math.PI*2);
      ctx.fill();
    });
    requestAnimationFrame(drawBG);
  }
  initPts(); drawBG();

  // ---------- PRODUCTS (example data) ----------
  const PRODUCTS = [
    {id:'p1',title:'PlayStation Plus — 1 شهر',price:30,desc:'اشتراك شهري',imgLabel:'PS'},
    {id:'p2',title:'بطاقة ستيم — 20 $',price:75,desc:'كود ستيم فوري',imgLabel:'STEAM'},
    {id:'p3',title:'بطاقة آيتونز — 50 $',price:180,desc:'ايتونز فوري',imgLabel:''},
    {id:'p4',title:'بطاقة PSN — 50 ر.س',price:50,desc:'صالحة بالسعودية',imgLabel:'PSN'}
  ];

  const grid = document.getElementById('productGrid');
  function renderProducts(){
    grid.innerHTML = '';
    PRODUCTS.forEach(p=>{
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="card-inner">
          <div class="art">${p.imgLabel}</div>
          <h3>${p.title}</h3>
          <p>${p.desc}</p>
          <div class="meta">
            <div class="price">${formatSAR(p.price)}</div>
            <div class="actions">
              <button class="btn-primary buy-now" data-id="${p.id}">اشترِ الآن</button>
              <button class="btn-ghost add-cart" data-id="${p.id}">إضافة للسلة</button>
            </div>
          </div>
        </div>
      `;
      grid.appendChild(card);
    });
  }
  renderProducts();

  // ---------- CART logic (localStorage) ----------
  let CART = JSON.parse(localStorage.getItem('forsan_cart')||'[]');

  const cartList = $('#cartList');
  const cartTotalEl = $('#cartTotal');
  const miniCount = $('#miniCartCount');

  function saveCart(){ localStorage.setItem('forsan_cart', JSON.stringify(CART)); }
  function updateMiniBadge(){
    const n = CART.reduce((s,i)=>s+i.qty,0);
    if(n>0){ miniCount.style.display='inline-block'; miniCount.textContent = n; }
    else { miniCount.style.display='none'; }
  }
  function renderCart(){
    cartList.innerHTML = '';
    if(CART.length===0){ cartList.innerHTML = '<li>سلة التسوق فارغة</li>'; cartTotalEl.textContent = formatSAR(0); updateMiniBadge(); return; }
    let total = 0;
    CART.forEach(item=>{
      total += item.price*item.qty;
      const li = document.createElement('li');
      li.innerHTML = `<span>${item.title} × ${item.qty}</span><strong>${formatSAR(item.price*item.qty)}</strong>
        <div style="display:flex;gap:8px;margin-top:6px">
          <button class="btn-ghost small dec" data-id="${item.id}">−</button>
          <button class="btn-ghost small inc" data-id="${item.id}">+</button>
          <button class="btn-ghost small rem" data-id="${item.id}">حذف</button>
        </div>`;
      cartList.appendChild(li);
    });
    cartTotalEl.textContent = formatSAR(total);
    updateMiniBadge();
  }

  function addToCartById(id, qty=1){
    const prod = PRODUCTS.find(p=>p.id===id);
    if(!prod) return;
    const ex = CART.find(i=>i.id===id);
    if(ex) ex.qty += qty;
    else CART.push({id:prod.id, title:prod.title, price:prod.price, qty});
    saveCart(); renderCart();
  }

  // events: add-cart / buy-now
  document.body.addEventListener('click', (e)=>{
    const a = e.target.closest('.add-cart');
    if(a){ addToCartById(a.dataset.id); a.textContent='تم الإضافة ✓'; setTimeout(()=>a.textContent='إضافة للسلة',900); return; }
    const b = e.target.closest('.buy-now');
    if(b){ addToCartById(b.dataset.id); // go to cart
      document.querySelector('[data-target="cart"]').click(); return;
    }
    // cart inc/dec/rem
    const inc = e.target.closest('.inc');
    if(inc){ const id=inc.dataset.id; const it=CART.find(x=>x.id===id); if(it){ it.qty++; saveCart(); renderCart(); } return; }
    const dec = e.target.closest('.dec');
    if(dec){ const id=dec.dataset.id; const it=CART.find(x=>x.id===id); if(it){ it.qty = Math.max(1, it.qty-1); saveCart(); renderCart(); } return; }
    const rem = e.target.closest('.rem');
    if(rem){ const id=rem.dataset.id; CART = CART.filter(x=>x.id!==id); saveCart(); renderCart(); return; }
    // clear cart
    if(e.target.id === 'clearCartBtn'){ if(confirm('هل تود تفريغ السلة؟')){ CART = []; saveCart(); renderCart(); } }
    // checkout simulated
    if(e.target.id === 'checkoutBtn'){ if(CART.length===0){ alert('السلة فارغة'); return; } alert('نموذج دفع تجريبي — ربط البوابة لاحقاً'); }
  });

  // init
  renderCart();
  updateMiniBadge();

  // ---------- REVIEWS (localStorage) ----------
  let REVIEWS = JSON.parse(localStorage.getItem('forsan_reviews')||'null') || [
    {name:'عميل', text:'استلمت الكود فوراً — خدمة مميزة', stars:5, date: new Date().toLocaleString()},
    {name:'زائر', text:'سعر مناسب وخدمة سريعة', stars:4, date: new Date().toLocaleString()}
  ];
  localStorage.setItem('forsan_reviews', JSON.stringify(REVIEWS)); // ensure stored

  const reviewDisplay = $('#reviewDisplay');
  let reviewIndex = 0;
  function showReview(){
    if(REVIEWS.length===0){ reviewDisplay.innerHTML = '<div class="review-box">لا توجد آراء بعد</div>'; return; }
    const r = REVIEWS[reviewIndex];
    reviewDisplay.innerHTML = `
      <div class="review-box">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:900">${r.name || 'عميل'}</div>
          <div style="color:var(--muted);font-size:12px">${r.date}</div>
        </div>
        <p style="margin:10px 0;color:var(--muted)">${r.text}</p>
        <div class="stars" aria-hidden="true">${'★'.repeat(r.stars)}${'☆'.repeat(5-r.stars)}</div>
      </div>
    `;
    reviewIndex = (reviewIndex + 1) % REVIEWS.length;
  }
  showReview();
  setInterval(showReview, 4000);

  // review form submit
  const reviewForm = $('#reviewForm');
  reviewForm && reviewForm.addEventListener('submit', (e)=>{
    e.preventDefault();
    const text = $('#reviewText').value.trim();
    const stars = parseInt($('#reviewStars').value,10) || 5;
    if(!text) return alert('اكتب رأيك أولاً');
    const newR = { name:'زبون', text, stars, date: new Date().toLocaleString() };
    REVIEWS.push(newR);
    localStorage.setItem('forsan_reviews', JSON.stringify(REVIEWS));
    $('#reviewText').value = '';
    $('#reviewStars').value = '5';
    // show immediately
    reviewIndex = REVIEWS.length-1;
    showReview();
  });

  // load reviews from storage on init (in case above overwrote)
  const stored = JSON.parse(localStorage.getItem('forsan_reviews')||'null');
  if(stored) REVIEWS = stored;

  // ---------- small helpers ----------
  // set year
  $('#year') && ($('#year').textContent = new Date().getFullYear());

  // add IDs to sections for nav buttons (so navigation works)
  // already provided in HTML

})();
